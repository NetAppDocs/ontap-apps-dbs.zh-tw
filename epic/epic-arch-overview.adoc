---
sidebar: sidebar 
permalink: epic/epic-arch-overview.html 
keywords: epic,cache,iris 
summary: EPIC 架構 
---
= EPIC 架構
:allow-uri-read: 


[role="lead"]
本節說明 Epic 軟體環境及需要儲存的關鍵元件。它提供重要考量、協助引導儲存設計。

Epic 總部位於威斯康星州維羅納、為大中型醫療集團、醫院及整合式醫療組織製作軟體。客戶還包括社區醫院、學術機構、兒童組織、安全網供應商和多醫院系統。EPIC 整合式軟體涵蓋臨床、存取和營收功能、並延伸至家庭。

本文件不涵蓋Epic軟體所支援的廣泛功能範圍。然而、從儲存系統的角度來看、所有 Epic 軟體都會針對每個部署共用一個以病患為中心的資料庫。EPIC 正在從 InterSystems Cache 資料庫移轉至全新的 InterSystems Iris 資料庫。由於 Cache 和 Iris 的儲存需求相同、因此在本文的其餘部分、我們會將資料庫稱為 Iris 。Iris 適用於 AIX 和 Linux 作業系統。



== 跨系統虹膜

InterSystems Iris 是 Epic 應用程式所使用的資料庫。在此資料庫中、資料伺服器是持續儲存資料的存取點。應用程式伺服器可管理資料庫查詢、並向資料伺服器提出資料要求。對於大多數 Epic 軟體環境、在單一資料庫伺服器中使用對稱式多處理器（ SMP ）架構、就足以滿足 Epic 應用程式的資料庫要求。在大型部署中、可使用 InterSystems 的 Enterprise Cache Protocol （ ECP ）來支援分散式模型。

使用啟用容錯移轉的叢集硬體、可讓待命資料伺服器存取與主要資料伺服器相同的儲存設備。它也能讓待命資料伺服器在硬體故障期間接管處理責任。

InterSystems 也提供技術來滿足資料複寫、災難恢復和高可用度（ HA ）需求。InterSystems 的複寫技術可用於同步或非同步地從主要資料伺服器複寫 IRIS 資料庫至一或多個次要資料伺服器。NetApp SnapMirror 用於複寫 WebBLOB 儲存設備、或用於備份與災難恢復。

更新的虹膜光圈資料庫有許多優點：

* 擴充規模並讓擁有多個 Epic 執行個體的大型組織能夠整合為一個較大的執行個體。
* 客戶現在可以在 AIX 和 Red Hat Enterprise Linux （ RHEL ）之間移動、而無需支付新的平台授權。




== Cache 資料庫伺服器與儲存使用量

* * Production * 在 Epic 軟體環境中、部署單一以病患為中心的資料庫。在 Epic 的硬體需求中、主控讀取 / 寫入虹膜光圈資料伺服器的實體伺服器稱為正式作業資料庫伺服器。此伺服器需要高效能的 All Flash 儲存設備來儲存屬於主要資料庫執行個體的檔案。為了達到高可用度、 Epic 支援使用容錯移轉資料庫伺服器、該伺服器可存取相同的檔案。Iris 使用 Epic Mirror 複寫至唯讀報告、災難恢復及支援唯讀複本。由於業務持續運作的原因、每種類型的資料庫伺服器都可以切換為讀取 / 寫入模式。
* * 報告 * 報告鏡像資料庫伺服器提供正式作業資料的唯讀存取權。它主控設定為正式作業的 Iris 資料伺服器備份鏡射的虹膜光圈資料伺服器。報告資料庫伺服器的儲存容量需求與正式作業資料庫伺服器相同。報告寫入效能與正式作業相同、但讀取工作負載特性不同、大小不同。
* * 支援唯讀 * 此資料庫伺服器為選用功能、並未顯示下圖。也可以部署鏡射資料庫伺服器來支援 Epic 的唯讀功能、其中提供唯讀模式的正式作業複本存取權。基於營運不中斷的理由、此類型的資料庫伺服器可切換至讀取 / 寫入模式。
* * 災難恢復 * 為了達到業務持續性和災難恢復目標、災難恢復鏡像資料庫伺服器通常部署在與正式作業和 / 或報告鏡像資料庫伺服器位於不同地理位置的站台上。災難恢復鏡射資料庫伺服器也會主控設定為正式作業的 Iris 資料伺服器備份鏡像的虹膜資料伺服器。如果正式作業站台長時間無法使用、則可將此備份鏡射資料庫伺服器設定為作為鏡射讀寫執行個體（ SRW ）。備份鏡射資料庫伺服器的檔案儲存需求與正式作業資料庫伺服器相同。相反地、備份鏡射資料庫儲存設備的大小與正式作業儲存設備的大小相同、從效能的角度來看、可確保業務持續運作。


image:epic-iris-odb.png["EPIC IRIS ODB"]

* * 測試 * 醫療組織通常會部署開發、測試及接移環境。這些環境的其他虹膜光圈資料伺服器也需要儲存設備、可由同一個儲存系統容納。EPIC 對於從共享儲存系統提供額外儲存設備有特定要求和限制。本文件中的最佳實務做法一般會解決這些特定需求。


除了虹膜晶片（ Iris odb ）資料伺服器之外、 Epic 軟體環境通常還包括其他元件、例如下列元件、如下圖所示：

* Oracle 或 Microsoft SQL Server 資料庫伺服器、作為 Epic Clarity 商業報告工具的後端



NOTE: Clarity 用於報告每日從報告的虹膜光圈資料庫擷取的資料。

* WebBLOB 伺服器（ SMB ）
* 多用途資料庫伺服器
* 多用途虛擬機器（ VM ）
* 用於用戶端存取的 Hyperspace


image:epic-databases.png["EPIC 資料庫"]

所有這些多重工作負載、集區、 NAS 和 SAN 通訊協定的儲存需求、都可以由單一 ONTAP 叢集加以整合和代管。這項整合可讓醫療組織針對所有 Epic 及非 Epic 工作負載、制定單一資料管理策略。



== 營運資料庫工作負載

每部 Epic 資料庫伺服器都會對下列檔案類型執行 I/O ：

* 資料庫檔案
* 日誌檔案
* 應用程式檔案


個別資料庫伺服器的工作負載取決於其在 Epic 軟體環境中的角色。例如、正式作業資料庫檔案通常會產生最嚴苛的工作負載、包括 100% 隨機 I/O 要求。任何鏡射資料庫的工作負載通常較不嚴苛、讀取要求也較少。日誌檔案工作負載主要是連續的。

Epic 維護的工作負載模式適用於儲存效能基準測試和客戶工作負載。如需 Epic 工作負載模型、基準測試結果、以及使用 NetApp 規模調整工具來正確調整 Epic 環境儲存容量的詳細資訊、請參閱 https://fieldportal.netapp.com/content/192412?assetComponentId=192510["TR-3930i：《NetApp Epic規模調整準則》（NetApp Sizing Guidelines for Epic）"^]（需要 NetApp 登入）。

EPIC 也為每位客戶提供自訂的硬體組態指南、其中包含 I/O 預測和儲存容量需求。最終的儲存需求可能包括開發、測試和 / 或移接環境、以及任何其他可能整合的輔助工作負載。客戶可以使用硬體組態指南、將總儲存需求傳達給 NetApp 。本指南包含設定 Epic 部署規模所需的所有資料。

在部署階段、 Epic 提供資料庫儲存配置指南、提供更精細的 LUN 層級詳細資料、可用於進階儲存設計。請注意、《資料庫儲存配置指南》是一般儲存建議、並非 NetApp 專屬的建議。使用本指南來判斷 NetApp 的最佳儲存配置。
