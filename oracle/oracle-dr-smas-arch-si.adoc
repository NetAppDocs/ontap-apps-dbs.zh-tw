---
sidebar: sidebar 
permalink: oracle/oracle-dr-smas-arch-si.html 
keywords: oracle, active sync, mcc, MCC-IP 
summary: Oracle SnapMirror 作用中同步 
---
= Oracle 單一執行個體、含 SnapMirror 作用中同步
:allow-uri-read: 


[role="lead"]
以下說明的範例顯示部署具有 SnapMirror 作用中同步複寫之 Oracle 單一執行個體資料庫的許多選項。

image:smas-oracle-si-nonuniform.png["具有不統一存取的 Oracle SI"]



== 使用預先設定的作業系統進行容錯移轉

SnapMirror 主動式同步功能可在災難恢復站台上提供資料的同步複本、但要讓資料可用、則需要作業系統和相關應用程式。基本自動化可大幅改善整體環境的容錯移轉時間。叢集件產品（例如 Pacemaker ）通常用於在站台之間建立叢集、在許多情況下、容錯移轉程序可以使用簡單的指令碼來驅動。

如果主節點遺失、叢集軟體（或指令碼）將會在替代站台上線。其中一個選項是建立預先針對組成資料庫的 SAN 資源所預先設定的待命伺服器。如果主站台發生故障、叢集軟體或指令碼替代方案會執行類似下列的一系列動作：

. 偵測主要站台故障
. 執行 FC 或 iSCSI LUN 的探索
. 掛載檔案系統和 / 或掛載 ASM 磁碟群組
. 啟動資料庫


此方法的主要需求是在遠端站台上執行作業系統。它必須預先設定 Oracle 二進位檔、這也表示 Oracle 修補等工作必須在主要站台和待命站台上執行。或者、 Oracle 二進位檔可鏡射至遠端站台、並在宣告災難時掛載。

實際的啟動程序很簡單。LUN 探索等命令每個 FC 連接埠只需要幾個命令。檔案系統掛載只是一個 `mount`命令、只要一個命令、即可在 CLI 上啟動和停止資料庫和 ASM 。



== 使用虛擬化作業系統進行容錯移轉

資料庫環境的容錯移轉可延伸至包含作業系統本身。理論上、此容錯移轉可以使用開機 LUN 來完成、但通常是使用虛擬化的作業系統來完成。此程序類似於下列步驟：

. 偵測主要站台故障
. 裝載託管資料庫伺服器虛擬機器的資料存放區
. 啟動虛擬機器
. 手動啟動資料庫、或將虛擬機器設定為自動啟動資料庫。


例如、 ESX 叢集可以跨越站台。在發生災難時、虛擬機器可在移至災難恢復站台後上線。



== 儲存設備故障保護

上圖顯示的用途link:oracle-dr-smas-nonuniform.html["不一致的存取"]、其中 SAN 並未延伸至各個站台。這可能比較容易設定、在某些情況下、可能是目前 SAN 功能唯一的選項、但也表示主要儲存系統故障會導致資料庫中斷、直到應用程式容錯移轉為止。

為了獲得更高的恢復能力、您可以使用部署解決方案link:oracle-dr-smas-uniform.html["統一存取"]。如此可讓應用程式繼續使用從另一站點廣告的路徑運作。
